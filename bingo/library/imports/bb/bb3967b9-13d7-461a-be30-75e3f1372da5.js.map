{"version":3,"sources":["../../../../../../assets/Script/Game/UI/assets/Script/Game/UI/BingoItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../../../assets/Script/Game/UI","sourcesContent":["// Learn TypeScript:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class BingoItem extends cc.Component {\n\n    @property(cc.Prefab)\n    userManager = null;\n    user = null;\n\n    @property(cc.Label)\n    itemLabel = null;\n    @property(cc.Node)\n    ragBg = null;\n    @property(cc.Node)\n    blackBg = null;\n\n    contrastItems = null;\n    point = null;\n    private isTrue: boolean = false;\n    private mode_2: boolean = false;\n\n    callback: (i, j) => void = null\n    // onLoad () {}\n\n    start() {\n        this.node.on(cc.Node.EventType.TOUCH_START, function (event) {\n            this.onClickScreen(event);\n        }, this);\n    }\n\n    setAnswer(answer) {\n        this.ragBg.opacity = 0;\n        this.blackBg.opacity = 0;\n        this.isTrue = false;\n        \n        var answer_arr = answer.split(',');\n        if (answer_arr.length >= 4) {\n            const answer_str = answer_arr[1].charAt(parseInt(answer_arr[2]) - 1);\n            this.itemLabel.string = answer_str;\n        }\n    }\n\n    getIsTrue(): boolean {\n        return this.isTrue;\n    }\n\n    getIsReply(): boolean {\n        return this.ragBg.opacity == 255;\n    }\n\n    setError() {\n        this.ragBg.opacity = 0;\n        this.blackBg.opacity = 255;\n    }\n\n    private onClickScreen(event) {\n        if (this.ragBg.opacity == 255) {\n            this.isTrue = false;\n            this.ragBg.opacity = 0;\n            if (this.callback && this.point) {\n                this.callback(this.point.x, this.point.y);\n            }\n            return;\n        }\n        this.user = cc.instantiate(this.userManager).getComponent('UserManager');\n        for (let i = 0; i < this.contrastItems.length; i++) {\n            const scrollerItem = this.contrastItems[i];\n            var scrollerItemScript = scrollerItem.getComponent(\"ScrollerItem\");\n            if (this.user.getGameMode() == \"2\" && scrollerItemScript.isStop) {\n                continue;\n            }\n            if (this.itemLabel.string == scrollerItemScript.getAnswer()) {\n                this.isTrue = true;\n                break;\n            }\n        }\n        this.ragBg.opacity = 255;\n        if (this.callback && this.point) {\n            this.callback(this.point.x, this.point.y);\n        }\n    }\n\n    // update (dt) {}\n}\n"]}